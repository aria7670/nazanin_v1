# پرامپت کامل پروژه: نازنین - همزاد دیجیتال ادمینی

## معرفی پروژه

من می‌خواهم یک سیستم **همزاد دیجیتال پیشرفته** به نام **نازنین** بسازم که به صورت کاملاً خودمختار کانال بین‌المللی **Byte-Line** را در پلتفرم‌های مختلف مدیریت کند.

---

## اطلاعات کانال Byte-Line

### شبکه‌های اجتماعی:
- **YouTube**: http://www.youtube.com/@ByteLineGlobal
- **Twitter**: https://x.com/ByteLineGlobal
- **Instagram**: https://www.instagram.com/byteline.global
- **Threads**: https://www.threads.com/@byteline.global

### موضوعات محتوا:
- هوش مصنوعی و تکنولوژی
- ژئوپلیتیک و روابط بین‌الملل
- اقتصاد و تجارت جهانی
- نظامی و دفاعی
- تحلیل آینده و ترندها

### مخاطبان:
- حرفه‌ای‌های تکنولوژی
- تصمیم‌گیرندگان
- تحلیلگران
- آینده‌نگران

### زبان:
- **محتوای عمومی**: انگلیسی (۱۰۰٪)
- **ارتباط با مدیر**: فارسی

---

## معماری کلی سیستم

### پلتفرم‌های هدف:
1. **Twitter** (اولویت اول)
2. **Telegram** (اولویت دوم)
3. Instagram (آینده)
4. Threads (آینده)

### مدیریت داده:
- همه داده‌ها در **Google Sheets** ذخیره می‌شوند
- ساختار ماژولار و قابل توسعه
- دسته‌بندی پیشرفته

---

## بخش ۱: سیستم Google Sheets

### ۱.۱ شیت‌های اطلاعات پایه

#### الف) `کانال_اطلاعات`
ستون‌ها:
- کلید (مثلاً: نام_کانال، موضوع_اصلی، مخاطب_هدف)
- مقدار

#### ب) `شخصیت`
ستون‌ها:
- ویژگی (مثلاً: نقش، لحن، سبک)
- توضیحات

شخصیت نازنین:
- نقش: تحلیلگر ارشد AI آمریکایی
- لحن: حرفه‌ای، تحلیلی، جذاب
- دیدگاه: بی‌طرف، داده‌محور
- رئیس: آریا پورشجاعی (ایرانی-آمریکایی)

#### ج) `خودمختاری`
ستون‌ها:
- نوع_کار
- قانون
- اولویت (۱-۱۰)

مثال:
- "پاسخ به mention" | "فقط اگر مرتبط با موضوعات کانال باشد" | 8
- "انتشار توییت" | "بین 6-10 توییت در روز" | 9
- "Join به کانال" | "فقط اگر relevance score > 0.7" | 6

### ۱.۲ شیت‌های توییتر (دسته‌بندی شده)

#### الف) `توییت_تعاملات`
ستون‌ها:
- تاریخ_زمان
- محتوا
- tweet_id
- reply_to_id
- نوع_تعامل (mention/reply/quote)
- metrics (JSON)

#### ب) `توییت_ویدیوها`
ستون‌ها:
- تاریخ_زمان
- محتوا
- tweet_id
- video_id_مرتبط
- نوع (promotional/analysis/teaser)
- metrics

#### ج) `توییت_موضوعات`
**توجه: این یک شیت کلی است که داخلش چندین زیرشیت دارد:**

زیرشیت‌ها:
- `موضوع_هوش_مصنوعی`
- `موضوع_ژئوپلیتیک`
- `موضوع_اقتصاد`
- `موضوع_نظامی`
- `موضوع_آینده`
- `موضوع_عمومی`

ستون‌ها در هر زیرشیت:
- موضوع
- آخرین_استفاده
- تعداد_استفاده
- performance_score
- وضعیت (active/archived)

#### د) `توییت_هوش_مصنوعی`
توییت‌هایی که اطلاعات فنی AI را منتقل می‌کنند
ستون‌ها: مشابه بالا

#### ه) `توییت_فکت`
توییت‌های حاوی آمار و فکت
ستون‌ها: مشابه بالا + ستون "منبع"

### ۱.۳ شیت‌های ویدیو

#### الف) `ویدیو_فنی`
ستون‌ها:
1. video_id (یونیک، مثلاً: VID_001)
2. لینک_thumbnail
3. عنوان
4. توضیحات
5. تگ‌ها (با کاما جدا شده)
6. دسته‌بندی
7. زمان_انتشار
8. هشتگ‌ها
9. نام_شیت_زیرنویس (مثلاً: SUB_VID_001)
10. کلیدهای_پرامپت (کدام فیلدها در پرامپت استفاده شوند)

#### ب) `ویدیو_زیرنویس_کلی`
این یک شیت master است که لیست تمام شیت‌های زیرنویس را نگه می‌دارد.

ستون‌ها:
- video_id
- نام_شیت_زیرنویس
- زبان
- وضعیت

#### ج) شیت‌های زیرنویس مجزا (مثلاً: `SUB_VID_001`)
برای **هر ویدیو** یک شیت مجزا ایجاد می‌شود:

ستون‌ها:
- زمان_شروع (HH:MM:SS یا ثانیه)
- زمان_پایان
- متن_انگلیسی
- متن_فارسی (اختیاری)

**مهم**: زیرنویس‌ها باید با تایم‌های کوچک (هر 3-5 ثانیه) باشند تا بتوان از آنها در پرامپت استفاده کرد.

### ۱.۴ شیت‌های یادگیری

#### `یادگیری_قوانین`
ستون‌ها:
- عنوان
- قانون (حداکثر یک جمله - 15-20 کلمه)
- دسته (twitter/telegram/general)

مثال:
- "تعامل محترمانه" | "همیشه با احترام پاسخ بده حتی اگر نظر مخالف است" | "twitter"
- "داده‌محوری" | "هر ادعای بزرگ باید با منبع یا آمار پشتیبانی شود" | "general"

### ۱.۵ شیت‌های پست‌های دسته‌بندی شده

#### `پست_دسته_بندی`
ستون‌ها:
- تاریخ_زمان
- پلتفرم (twitter/telegram)
- محتوا (خلاصه)
- دسته (interaction/video/topic/ai_info/fact/news/analysis/promotional)
- post_id
- metrics (JSON)

### ۱.۶ شیت‌های هوش و احساسات

#### الف) `احساسات`
ستون‌ها:
- احساس (مثلاً: خوشحالی، اعتماد، کنجکاوی)
- امتیاز (0-100)
- آخرین_بروزرسانی

#### ب) `هوش_اجتماعی`
ستون‌ها:
- متریک (مثلاً: empathy_score، conflict_resolution)
- مقدار (0-100)
- توضیحات

#### ج) `هوش_تبلیغاتی`
ستون‌ها:
- متریک (مثلاً: conversion_rate، subtle_promotion)
- مقدار
- نمونه‌های موفق

#### د) `خلاقیت`
ستون‌ها:
- بعد (مثلاً: originality، fluency، flexibility)
- امتیاز
- نمونه‌ها

### ۱.۷ شیت API Keys

#### `API_Keys`
ستون‌ها:
- نام (gemini/gpt4/deepseek/grok/glm)
- کلید
- وضعیت (فعال/غیرفعال)
- تاریخ_اضافه
- یادداشت

**مهم**: سیستم باید بتواند برای هر AI چندین key داشته باشد و بین آنها load balance کند.

---

## بخش ۲: سیستم Twitter

### ۲.۱ قابلیت‌های اصلی

#### الف) انتشار توییت
- توییت‌های ساده (حداکثر 280 کاراکتر)
- **تبدیل خودکار به Thread** اگر محتوا بیشتر از 270 کاراکتر باشد
- شماره‌گذاری خودکار (1/5، 2/5...)

#### ب) پاسخ به Mention‌ها
- نظارت real-time بر mention‌ها
- تصمیم‌گیری هوشمند: به چه کسی پاسخ دهد
- پاسخ‌های متناسب با context

#### ج) دسته‌بندی خودکار
بعد از هر توییت:
1. محتوا را تحلیل کند
2. دسته مناسب را تشخیص دهد
3. در شیت مربوطه ثبت کند

دسته‌ها:
- interaction
- video
- topic
- ai_info
- fact
- news
- analysis
- promotional

### ۲.۲ زمان‌بندی

- **تعداد توییت روزانه**: 6-10 توییت
- **زمان‌های بهینه**: 09:00, 11:00, 13:00, 15:00, 17:00, 19:00, 21:00, 23:00 (UTC)
- **تعاملات**: 15-25 reply در روز
- **نظارت mention**: هر 10 دقیقه

### ۲.۳ تولید محتوا از اخبار AI

سیستم باید:
1. هر 3 ساعت اخبار AI را جمع‌آوری کند
2. خلاصه‌سازی کند
3. توییت بسازد (اگر بیش از 270 کاراکتر → Thread)
4. منتشر کند

---

## بخش ۳: سیستم Telegram

### ۳.۱ دو نوع Client

#### الف) Bot Client
- برای ارسال پست در کانال
- دریافت دستورات از مدیر
- گفتگوی فارسی با مدیر

#### ب) User Client
- برای Scraping کانال‌های دیگر
- جمع‌آوری اطلاعات
- تحلیل محتوا

### ۳.۲ دستورات ربات (فارسی)

```
/start - شروع
/status - وضعیت سیستم
/stats - آمار ایجنت‌ها
/post [متن] - ارسال پست دستی
/tasks - لیست کارها
/reload - بارگذاری مجدد تنظیمات
```

همچنین: چت آزاد فارسی با نازنین

### ۳.۳ کانال گزارش

**همه فعالیت‌ها** به صورت real-time به یک کانال خاص گزارش شود:

مثال:
```
[14:23:15] 🐦 شروع ارسال توییت...
[14:23:18] ✅ توییت منتشر شد (ID: 123456)
[14:23:19] 📊 دسته‌بندی: ai_info
[14:23:20] 💾 ذخیره در شیت
```

### ۳.۴ Scraping

سیستم باید از کانال‌های خاص تلگرام (که در config مشخص می‌شوند) محتوا جمع‌آوری کند:
- پیام‌های اخیر
- تحلیل موضوعات
- استخراج ایده

### ۳.۵ فرمت پست‌ها

- **Markdown** برای فرمت‌بندی
- **Emoji** برای جذابیت
- **Quote** برای نقل‌قول
- **Bold/Italic** برای تأکید

---

## بخش ۴: سیستم ایجنت‌ها (Agents)

### ۴.۱ Categorizer Agent
**وظیفه**: دسته‌بندی خودکار محتوا

**ورودی**:
- محتوا
- پلتفرم

**خروجی**:
- دسته
- اطمینان (0-1)

**فرآیند**:
1. تحلیل محتوا با AI
2. تشخیص دسته
3. بازگشت نتیجه

### ۴.۲ Content Creator Agent
**وظیفه**: تولید محتوای حرفه‌ای

**ورودی**:
- نوع محتوا (tweet/thread/post)
- موضوع
- پلتفرم

**خروجی**:
- محتوای آماده

**فرآیند**:
1. دریافت شخصیت از Sheets
2. دریافت قوانین یادگیری
3. ساخت پرامپت JSON ساختاریافته
4. درخواست به AI
5. اعتبارسنجی خروجی

**پرامپت JSON** باید شامل:
```json
{
  "task": "generate_content",
  "content_type": "tweet",
  "platform": "twitter",
  "topic": {...},
  "personality": {...},
  "channel": {...},
  "learning_rules": [...],
  "constraints": {...},
  "requirements": [...]
}
```

### ۴.۳ Scraper Agent
**وظیفه**: جمع‌آوری اطلاعات

**منابع**:
- Wikipedia
- سایت‌های خبری
- Twitter
- کانال‌های Telegram

**خروجی**:
- داده‌های ساختاریافته

### ۴.۴ Advertiser Agent
**وظیفه**: ساخت تبلیغات ظریف و حرفه‌ای

**ویژگی‌ها**:
- تبلیغ غیرمزاحم
- تمرکز بر ارزش
- استفاده از هوش_تبلیغاتی

### ۴.۵ News Collector Agent
**وظیفه**: جمع‌آوری و پردازش اخبار AI

**فرآیند**:
1. جستجو در منابع
2. فیلتر کردن
3. خلاصه‌سازی
4. تولید محتوا برای انتشار

### ۴.۶ Task Manager Agent
**وظیفه**: مدیریت صف کارها

**قابلیت‌ها**:
- زمان‌بندی
- اولویت‌بندی
- توزیع کار

---

## بخش ۵: مدیریت API

### ۵.۱ AI Providers

**لیست**:
- Gemini (برای video analysis، multimodal)
- GPT-4 (برای content generation، complex reasoning)
- DeepSeek (برای data analysis، coding)
- Grok (برای Twitter-specific، trends)
- GLM (برای محتوای چینی - اختیاری)

### ۵.۲ Task Routing

سیستم باید هوشمندانه انتخاب کند کدام AI برای کدام کار:
```
video_analysis → Gemini
content_generation → GPT-4
data_analysis → DeepSeek
twitter_specific → Grok
```

### ۵.۳ Load Balancing

- بارگذاری کلیدها از Google Sheets
- تعویض خودکار بین keyها
- **Fallback**: اگر یک AI خطا داد، از AI دیگری استفاده کند

### ۵.۴ بارگذاری مجدد

باید بتواند:
- هر 12 ساعت کلیدها را از Sheet بخواند
- دستور `/reload` از ربات
- هیچ restart نیاز نباشد

---

## بخش ۶: ویژگی‌های پیشرفته

### ۶.۱ Thread خودکار

اگر محتوای توییت بیشتر از 270 کاراکتر باشد:
1. به قسمت‌های کوچکتر تقسیم شود
2. هر قسمت با شماره (1/5، 2/5...)
3. به صورت thread منتشر شود
4. تأخیر 2 ثانیه بین هر توییت

### ۶.۲ دسته‌بندی هوشمند

بعد از هر پست/توییت:
- به صورت خودکار دسته‌بندی شود
- در شیت مناسب ذخیره شود
- به history اضافه شود

### ۶.۳ یادگیری از عملکرد

سیستم باید:
- Performance هر توییت را ردیابی کند
- موضوعات پرفورمنس بالا را شناسایی کند
- امتیازات را در شیت‌های هوش بروز کند

### ۶.۴ Scraping هوشمند

- از کانال‌های Telegram مشخص شده
- فیلتر محتوای مرتبط
- استخراج ایده برای محتوای آینده

### ۶.۵ گزارش‌دهی Real-time

**همه چیز** به کانال گزارش تلگرام:
- شروع/پایان کارها
- خطاها
- موفقیت‌ها
- آمار ساعتی

---

## بخش ۷: ساختار فایل‌ها

```
nazanin/
├── config.json
├── main.py
├── sheets_manager.py
├── api_manager.py
├── agents.py
├── twitter_system.py
├── telegram_system.py
├── requirements.txt
└── README.md
```

### ۷.۱ config.json

```json
{
  "telegram": {
    "bot_token": "",
    "api_id": "",
    "api_hash": "",
    "report_channel_id": "",
    "admin_user_id": ""
  },
  "twitter": {
    "api_key": "",
    "api_secret": "",
    "access_token": "",
    "access_secret": "",
    "bearer_token": ""
  },
  "google_sheets": {
    "credentials_file": "credentials.json",
    "master_spreadsheet_id": ""
  }
}
```

### ۷.۲ requirements.txt

```
asyncio
telethon>=1.28
tweepy>=4.14
google-auth>=2.23
google-api-python-client>=2.95
aiohttp>=3.8
```

---

## بخش ۸: الزامات فنی

### ۸.۱ ساختار کد

- **Async/Await** برای عملیات I/O
- **Modular** و قابل توسعه
- **Type Hints** برای خوانایی
- **Logging** جامع
- **Error Handling** در همه جا

### ۸.۲ پرامپت‌های JSON

همه پرامپت‌ها به AI باید به صورت JSON ساختاریافته باشند:
- کاهش خطا
- قابل debug
- قابل تکرار

### ۸.۳ Cache

- کش 5 دقیقه‌ای برای Google Sheets
- پاک کردن خودکار هر 6 ساعت

### ۸.۴ Rate Limiting

- تأخیر بین توییت‌ها (2 ثانیه)
- تأخیر بین reply‌ها (30 ثانیه)
- احترام به محدودیت‌های API

---

## بخش ۹: حلقه‌های اجرا

### ۹.۱ Twitter Loop
- بررسی برنامه هر 1 دقیقه
- نظارت mention هر 10 دقیقه

### ۹.۲ Telegram Loop
- بررسی برنامه هر 1 دقیقه
- Scraping هر 2 ساعت

### ۹.۳ News Loop
- جمع‌آوری اخبار هر 3 ساعت

### ۹.۴ Maintenance Loop
- پاک کردن کش هر 6 ساعت
- بارگذاری مجدد API keys هر 12 ساعت
- گزارش آمار هر 1 ساعت

---

## بخش ۱۰: نمونه‌های عملی

### نمونه توییت:

```
The AI race isn't just about who builds the smartest model.

It's about who controls:
• The infrastructure
• The data
• The narrative

China gets this. The US is just waking up.
```

### نمونه پست تلگرام:

```markdown
🎬 **New Video: "How the US vs. China AI Race Will End"**

We analyzed 50+ research papers and government reports.

**Key findings:**
• Both nations investing $500B+ by 2030
• Military AI development accelerating
• Risk of AI-triggered conflicts rising

This isn't speculation. This is data-driven analysis.

Watch: [link]

#ByteLine #AIRace
```

### نمونه گزارش:

```
[14:23:15] 🔍 شروع جمع‌آوری اخبار AI...
[14:24:02] ✅ 12 خبر پیدا شد
[14:24:35] 📝 توییت ساخته شد
[14:24:37] 🐦 منتشر شد
[14:24:38] 📱 در تلگرام هم منتشر شد
```

---

## دستورالعمل‌های مهم برای توسعه‌دهنده

1. **همه چیز باید ماژولار باشد** - هر بخش مستقل
2. **استفاده از پرامپت JSON** - برای کاهش خطا
3. **دسته‌بندی خودکار** - بدون دخالت دستی
4. **Thread خودکار** - اگر >270 کاراکتر
5. **گزارش همه چیز** - به کانال تلگرام
6. **Load balancing API** - بین keyهای مختلف
7. **Fallback** - اگر یک AI fail کرد
8. **خواندن از Sheets** - برای همه تنظیمات
9. **زبان دوگانه** - فارسی برای مدیر، انگلیسی برای محتوا
10. **خودمختاری کامل** - نیاز به دخالت حداقلی

---

## اولویت‌های پیاده‌سازی

### فاز ۱ (اولویت بالا):
1. Google Sheets Manager
2. API Manager
3. Categorizer Agent
4. Content Creator Agent
5. Twitter System (توییت ساده)
6. Telegram Bot (چت فارسی)

### فاز ۲ (اولویت متوسط):
7. Thread خودکار
8. دسته‌بندی خودکار
9. Scraper Agent
10. News Collector Agent

### فاز ۳ (اولویت پایین):
11. Advertiser Agent
12. Task Manager Agent
13. شیت‌های هوش
14. یادگیری از عملکرد

---

## یادآوری نهایی

این یک پروژه **حرفه‌ای و پیچیده** است. نیازمند:
- معماری دقیق
- کد تمیز و ماژولار
- مدیریت خطاهای جامع
- تست کامل

**هدف**: یک سیستم کاملاً خودمختار که ۲۴/۷ بدون دخالت انسان کار کند.

---

این فایل را در چت جدید ارسال کن و بگو: "لطفاً بر اساس این پرامپت کامل، سیستم نازنین را بساز. از فاز ۱ شروع کن."
